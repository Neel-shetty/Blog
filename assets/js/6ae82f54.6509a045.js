"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[565],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),p=c(n),h=i,m=p["".concat(s,".").concat(h)]||p[h]||u[h]||o;return n?a.createElement(m,l(l({ref:t},d),{},{components:n})):a.createElement(m,l({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=p;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var c=2;c<o;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},7463:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const o={title:"Select a Single item in a FlatList",description:"A collection of react native things i would like to share",hide_table_of_contents:!1,authors:{name:"Neel",title:"Author",url:"https://github.com/Neel-shetty",image_url:"https://github.com/Neel-shetty.png"},tags:["ReactNative","FlatList"]},l="Select an Item in a FlatList - React Native",r={unversionedId:"Tutorials/FlatList",id:"Tutorials/FlatList",title:"Select a Single item in a FlatList",description:"A collection of react native things i would like to share",source:"@site/docs/Tutorials/FlatList.md",sourceDirName:"Tutorials",slug:"/Tutorials/FlatList",permalink:"/Blog/docs/Tutorials/FlatList",draft:!1,editUrl:"https://github.com/Neel-shetty/Blog/blob/main/docs/Tutorials/FlatList.md",tags:[{label:"ReactNative",permalink:"/Blog/docs/tags/react-native"},{label:"FlatList",permalink:"/Blog/docs/tags/flat-list"}],version:"current",frontMatter:{title:"Select a Single item in a FlatList",description:"A collection of react native things i would like to share",hide_table_of_contents:!1,authors:{name:"Neel",title:"Author",url:"https://github.com/Neel-shetty",image_url:"https://github.com/Neel-shetty.png"},tags:["ReactNative","FlatList"]},sidebar:"tutorialSidebar",next:{title:"temp file",permalink:"/Blog/docs/intro"}},s={},c=[{value:"Step 1 - Create a Flatlist",id:"step-1---create-a-flatlist",level:3},{value:"Step 2 - Create the onPress function to select the item",id:"step-2---create-the-onpress-function-to-select-the-item",level:3},{value:"Step 3 - use the data stored in the state to make the change you want to the selected item",id:"step-3---use-the-data-stored-in-the-state-to-make-the-change-you-want-to-the-selected-item",level:3},{value:"Step 4 - Go code it \ud83d\udd2b",id:"step-4---go-code-it-",level:3}],d={toc:c};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"select-an-item-in-a-flatlist---react-native"},"Select an Item in a FlatList - React Native"),(0,i.kt)("p",null,"I recently wanted to implement the above mentioned feature in my app but didnt find good quality videos so I am going to write one. For Begginers as a Begginer, not a Pro."),(0,i.kt)("h3",{id:"step-1---create-a-flatlist"},"Step 1 - Create a Flatlist"),(0,i.kt)("p",null,"Let's continue assuming that you have already setup your FlatList, since you've searched for how to select an item.\nIf not, here's a boilerplate code for you to follow along."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"const Demo = () => {\n  return (\n    <View>\n      <FlatList\n        data={YourData}\n        renderItem={({ item }) => {\n          return (\n            <TouchableOpacity onPress={YourFunction}>\n              <TheComponentYouWantToRender passYourData={item} />\n            </TouchableOpacity>\n          );\n        }}\n      />\n    </View>\n  );\n};\n")),(0,i.kt)("h3",{id:"step-2---create-the-onpress-function-to-select-the-item"},"Step 2 - Create the onPress function to select the item"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"We shall take the item prop from the renderItem option in the FlatList and pass it on the the onPress function")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<FlatList\n  data={YourData}\n  renderItem={({ item, index }) => {\n    return (\n      <TouchableOpacity onPress={YourFunction(item)}>\n        <TheComponentYouWantToRender passYourData={item} />\n      </TouchableOpacity>\n    );\n  }}\n/>\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"selected: false")," to all the items in your data and a key value if you dont have one already, for example:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"export default[\n  {\n    key:1,\n    title: 'New',\n    selected: false\n  },\n  {\n    key:2,\n    title: 'Videos',\n    selected: false\n  },\n]\n")),(0,i.kt)("p",null,"This will be used to check if the user has selected the item or not later on"),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Create a state using the ",(0,i.kt)("inlineCode",{parentName:"li"},"useState")," hook from react to edit the state of the selected item. Set it's default dataues as your data by passing YourData to the state")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"If you don't know how ",(0,i.kt)("strong",{parentName:"p"},"useState")," works. Check out ",(0,i.kt)("a",{parentName:"p",href:"https://youtu.be/kkuq0gTGRFQ?t=116"},"this video"),".")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'import { useState } from "react";\n\nconst Demo = () => {\n\n  const [isSelected, setIsSelected] = useState(YourData);\n\n  function YourFunction(item) {}\n\n  return (\n    ----X----           //just a placeholder for the above code\n  )\n}\n')),(0,i.kt)("p",null,"currently the value of ",(0,i.kt)("inlineCode",{parentName:"p"},"isSelected")," is the same as ",(0,i.kt)("inlineCode",{parentName:"p"},"YourData")," which has ",(0,i.kt)("inlineCode",{parentName:"p"},"selected: false")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Create the onPress function for your component")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"function YourFunction(item) {\n    const tempArray = [];\n    isSelected.map((data) => {\n      if (data.key === item.key) {\n        tempArray.push({ ...data, selected: true });\n      } else {\n        tempArray.push({ ...data, selected: false });\n      }\n    });\n    setIsSelected(tempArray);\n  }\n")),(0,i.kt)("p",null,"Here we do a few things which let us select the item we want, let me explain how it works."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create an array named ",(0,i.kt)("inlineCode",{parentName:"li"},"tempArray")," which is initialized with an empty array, hence we have nothing stored in ",(0,i.kt)("inlineCode",{parentName:"li"},"tempArray")," at the moment. This will later be used to store the modied data."),(0,i.kt)("li",{parentName:"ul"},"Next, we map the data in the ",(0,i.kt)("inlineCode",{parentName:"li"},"isSelected")," state which we created earlier and pass on the data to a function. This will loop across all the elements in the array."),(0,i.kt)("li",{parentName:"ul"},"This function has an has an if statement, which checks if the key of the data we passed from the FlatList onPress option is equal to the Key of the data which is being iterated on by the ",(0,i.kt)("inlineCode",{parentName:"li"},"isSelected.map()")," loop. This condition will only be true for the item the user selected from the FlatList."),(0,i.kt)("li",{parentName:"ul"},"We edit the data in ",(0,i.kt)("inlineCode",{parentName:"li"},"isSelected")," if the condition was true. This is done by passing the unrequired data as ",(0,i.kt)("inlineCode",{parentName:"li"},"...data")," and just set the selected value to true using ",(0,i.kt)("inlineCode",{parentName:"li"},"selected: true"),". We push this edited data into the ",(0,i.kt)("inlineCode",{parentName:"li"},"tempArray")," that we had created."),(0,i.kt)("li",{parentName:"ul"},"Else if the key of the data is not equal to the key of the FlatList item we just push the same data into the ",(0,i.kt)("inlineCode",{parentName:"li"},"tempArray")," where the value of selected is false ",(0,i.kt)("inlineCode",{parentName:"li"},"selected:false")),(0,i.kt)("li",{parentName:"ul"},"After the the ",(0,i.kt)("inlineCode",{parentName:"li"},"isSelected.map()")," is finished iterating through all the values in the data and only setting ",(0,i.kt)("inlineCode",{parentName:"li"},"selected:true")," for the item the user selected. We set the value of ",(0,i.kt)("inlineCode",{parentName:"li"},"isSelected")," as the data we stored in the ",(0,i.kt)("inlineCode",{parentName:"li"},"tempArray")," using ",(0,i.kt)("inlineCode",{parentName:"li"},"setIsSelected(tempArray)"))),(0,i.kt)("h3",{id:"step-3---use-the-data-stored-in-the-state-to-make-the-change-you-want-to-the-selected-item"},"Step 3 - use the data stored in the state to make the change you want to the selected item"),(0,i.kt)("p",null,"Currently, The value of ",(0,i.kt)("inlineCode",{parentName:"p"},"selected: ")," of the selected item is set as true is set as ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),", we can use this to make change as needed to our item. You can check the data by ",(0,i.kt)("inlineCode",{parentName:"p"},"console.log(isSelected)")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"console.log(isSelected.selected)")),(0,i.kt)("p",null,"Inside the FlatList you can checked if the item is selected by:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'  <FlatList\n  data={YourData}\n  renderItem={({ item, index }) => {\n    return (\n      <TouchableOpacity onPress={YourFunction(index)}>\n        <TheComponentYouWantToRender\n          passYourData={item}\n          style={{\n            backgroundColor: isSelected[index].selected\n              ? "violet"\n              : "pink",\n          }}\n        />\n      </TouchableOpacity>\n    );\n  }}\n/>\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Accessing the current item using its index"),(0,i.kt)("li",{parentName:"ul"},"Checking if the item is selected or not by setting index as the array element id as index ",(0,i.kt)("inlineCode",{parentName:"li"},"isSelected[index]"),"."),(0,i.kt)("li",{parentName:"ul"},"Example, you can now set the background color of the item depending on if its selected or not by using the ",(0,i.kt)("inlineCode",{parentName:"li"},"?")," operator ",(0,i.kt)("inlineCode",{parentName:"li"},'backgroundColor: isSelected[index].selected ? "violet" : "pink" '),"\n. The background color will be violet if the item is selected, if it's not selected the background color will be pink.")),(0,i.kt)("h3",{id:"step-4---go-code-it-"},"Step 4 - Go code it \ud83d\udd2b"),(0,i.kt)("p",null,"Now that you're equipped with the insane skill of selecting an item in a a FlatList, go become a millionaire.",(0,i.kt)("br",{parentName:"p"}),"\n","","\n","\xa0"),(0,i.kt)("p",null,"If there are any errors in the guide, please write to ",(0,i.kt)("a",{parentName:"p",href:"mailto:neelnarayanshetty@gmail.com"},"my email")))}u.isMDXComponent=!0}}]);